"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[904,77],{3502:function(n,e,t){t.d(e,{Z:function(){return c}});var r,o=t(168),a=t(5751).ZP.button(r||(r=(0,o.Z)(["\n  padding: 8px 16px;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 2px;\n  background-color: gray;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  :hover {\n    background-color: #c4c4c4;\n  }\n"]))),i=t(184),c=function(n){var e=n.loadMore;return(0,i.jsx)(a,{type:"button",onClick:e,children:"Load more"})}},8357:function(n,e){e.Z=function(){window.scrollBy({top:600,behavior:"smooth"})}},9316:function(n,e,t){t.d(e,{f:function(){return f}});var r=t(2982),o=t(5861),a=t(885),i=t(7757),c=t.n(i),u=t(2791),s=t(8479),p=t(9599),l=t(8357),f=function(){var n=(0,u.useState)([]),e=(0,a.Z)(n,2),t=e[0],i=e[1],f=(0,u.useState)(""),d=(0,a.Z)(f,2),h=d[0],x=d[1],g=(0,u.useState)(1),v=(0,a.Z)(g,2),m=v[0],b=v[1],y=(0,u.useState)(null),w=(0,a.Z)(y,2),Z=w[0],k=w[1];(0,u.useEffect)((function(){function n(){return n=(0,o.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.V0)(h,m);case 3:0===(e=n.sent).length&&s.ZP.error("Cannot find your request!"),i((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),k(n.t0);case 11:return n.prev=11,1!==m&&(0,l.Z)(),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])}))),n.apply(this,arguments)}console.log("useFetch SearchMovies"),""!==h&&function(){n.apply(this,arguments)}()}),[h,m]);return{listMovies:t,error:Z,handleSearchMovies:function(n){x(n),i([])},handleLoadMore:function(){b((function(n){return n+1}))}}}},1077:function(n,e,t){t.r(e),t.d(e,{TrendList:function(){return c},TrendTitle:function(){return u}});var r,o,a=t(168),i=t(5751),c=i.ZP.ul(r||(r=(0,a.Z)(["\n  margin: 0 0 40px 0;\n  padding: 5px;\n  color: black;\n"]))),u=i.ZP.h1(o||(o=(0,a.Z)(["\n  color: tomato;\n"])))},2904:function(n,e,t){t.r(e),t.d(e,{SearchMoviesPage:function(){return P}});var r=t(501),o=t(6871),a=t(885),i=t(2791),c=t(8479),u=t(168),s=t(5751);var p,l,f,d,h,x=t.p+"static/media/sprite.616153213901fcca8e8c933b63439661.svg",g=t(184),v=function(n){var e=n.name,t=n.fill,r=n.width,o=n.height,a=n.stroke,i=n.className;return(0,g.jsx)("svg",{fill:t,width:r,height:o,stroke:a,className:"".concat(i," icon-{name}"),children:(0,g.jsx)("use",{xlinkHref:"".concat(x,"#").concat(e)})})};v.defaultProps={fill:"black",name:"",width:"30px",height:"30px",stroke:"transparent",className:"icon"};var m=s.ZP.div(p||(p=(0,u.Z)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  margin-bottom: 30px;\n  color: #fff;\n  background-color: #c4c4c4;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n"]))),b=s.ZP.form(l||(l=(0,u.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n"]))),y=s.ZP.button(f||(f=(0,u.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  :hover {\n    opacity: 1;\n  }\n"]))),w=s.ZP.label(d||(d=(0,u.Z)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n"]))),Z=s.ZP.input(h||(h=(0,u.Z)(["\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"])));function k(n){var e=n.onSearch,t=(0,r.lr)(),o=(0,a.Z)(t,2),u=o[0],s=o[1],p=(0,i.useState)(""),l=(0,a.Z)(p,2),f=l[0],d=l[1],h=u.get("query");(0,i.useEffect)((function(){h&&d(h)}),[h]);return(0,g.jsx)(m,{children:(0,g.jsxs)(b,{onSubmit:function(n){if(n.preventDefault(),d(h),""===f.trim())return c.ZP.error("\u043f\u043e\u0438\u0441\u043a\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430!");s({query:n.currentTarget.elements.query.value}),e(f),d("")},children:[(0,g.jsxs)(y,{type:"submit",children:[(0,g.jsx)(w,{}),(0,g.jsx)(v,{name:"search",fill:"gray",width:"30px",height:"30px"})]}),(0,g.jsx)(Z,{type:"text",autoComplete:"off",name:"query",value:f,autoFocus:!0,onChange:function(n){d(n.currentTarget.value.toLowerCase())},placeholder:"Search films"})]})})}var M=t(9316),S=t(3502),j=t(1077),P=function(){var n=(0,o.TH)(),e=(0,M.f)(),t=e.listMovies,a=e.error,i=e.handleSearchMovies,c=e.handleLoadMore;return console.log(t),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k,{onSearch:i}),!a&&t.length>0&&(0,g.jsx)(j.TrendList,{children:t.map((function(e){var t=e.id,o=e.original_title;return(0,g.jsx)("li",{children:(0,g.jsx)(r.rU,{to:"".concat(t),state:{from:n},children:o})},t)}))}),t.length>0&&(0,g.jsx)(S.Z,{type:"button",loadMore:c})]})}},9555:function(n,e,t){t.d(e,{z5:function(){return s},Pg:function(){return p},M1:function(){return l},tx:function(){return f},V0:function(){return d}});var r=t(5861),o=t(7757),a=t.n(o),i=t(4569),c=t.n(i);c().defaults.baseURL="https://api.themoviedb.org/3";var u="e815f38922cafca80c1f07403a692f09",s=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/trending/movie/week?api_key=".concat(u,"&page=").concat(e));case 2:return t=n.sent,r=t.data,console.log("TrendMovies"),n.abrupt("return",r.results);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/movie/".concat(e,"?api_key=").concat(u));case 2:return t=n.sent,r=t.data,console.log("MovieById"),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/movie/".concat(e,"/credits?api_key=").concat(u));case 2:return t=n.sent,r=t.data,console.log("MovieCast"),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(a().mark((function n(e){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/movie/".concat(e,"/reviews?api_key=").concat(u));case 2:return t=n.sent,r=t.data,console.log("MovieReviews"),n.abrupt("return",r.results);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(a().mark((function n(e,t){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().get("/search/movie?api_key=".concat(u,"&language=en-US&page=").concat(t,"&query=").concat(e));case 2:return r=n.sent,o=r.data,console.log("SearchMovies"),n.abrupt("return",o.results);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},9599:function(n,e,t){t.d(e,{Pg:function(){return r.Pg},M1:function(){return r.M1},tx:function(){return r.tx},V0:function(){return r.V0}});var r=t(9555)},2982:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(907);var o=t(181);function a(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=904.c78c8341.chunk.js.map